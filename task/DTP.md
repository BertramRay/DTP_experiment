# DTP

## 应用需求

实时应用程序

- 倾向于以块方式生成和处理数据
- 不断生成新数据
- 更注重数据的及时性而不是可靠性

## 之前协议缺点

UDP不可靠，没有数据到达的最后期限，所有数据有相同的被删除几率。

QUIC进行了一些改进，并引入了流优先级**提高应用程序性能**，但没有提高**时效性**。

## DTP优点

DTP（可感知最后期限的传输协议）

DTP使开发人员可以专注于应用逻辑（计算和设定截止日期）

## DTP架构

重用QUIC调度程序的大部分内容进行优先级划分

一对一的将块映射到QUIC流，多个块之间的优先级差异使得可以删除低优先级数据以提高高优先级数据的及时性，如果决定删除该区块，我们只需利用现有QUIC协议的标准流取消过程

```
                       +-------------+
                       |             |
                       | Application |
                       |             |
                       +-------------+
                              |
                              |
                              V
   +-----------------------------------------------------+
   |        0               1                    n       |
   | +----+---+---+  +----+---+---+       +----+---+---+ |
   | |Data| D | P |  |Data| D | P |  ...  |Data| D | P | |<--+ Lost
   | +----+---+---+  +----+---+---+       +----+---+---+ |   | Packet
   |        D: Deadline         P: Priority              |   |
   +-----------------------------------------------------+   |
                              |                              |
                              |                              |
                              V                              |
                       +-------------+                       |
                       |             |                       | Bandwidth
                       |  Scheduler  |<----------------------+ &
                       |             |                       | RTT
                       +-------------+                       |
                              |                              |
                              |                              |
                              V                              |
                       +-------------+                       |
                       |             |                       |
                       | Redundancy  |<----------------------+ Loss
                       | Encoder     |                       | Rate
                       +-------------+                       |
                              |                              |
                              |                              |
                              V                              |
                       +-------------+                       |
                       |             |                       |
                       | Congestion  +-----------------------+
                       | Control     |
                       +-------------+

             Figure 1: The Architecture of DTP
```

截止日期调度器/截止日期冗余/损失检测和拥塞控制(复制QUIC)

额外功能：完全加密，用户空间部署，零RTT握手和多路复用

